# ------------------------
# Server
# ------------------------
server.port=${PORT:8080}
spring.application.name=discgolfanalyzer

# ------------------------
# Database
# ------------------------
# Local: H2 in-memory database
# Production: Set DATABASE_URL environment variable for PostgreSQL
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:discgolf;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.driverClassName=${DATABASE_DRIVER:org.h2.Driver}
spring.datasource.username=${DATABASE_USERNAME:sa}
spring.datasource.password=${DATABASE_PASSWORD:}

# JPA/Hibernate
spring.jpa.database-platform=${JPA_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# H2 console (disabled in production)
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# ------------------------
# Multipart uploads
# ------------------------
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB

# ------------------------
# ML Service
# ------------------------
# Local: http://localhost:5001
# Railway: Use internal networking URL (set via environment variable)
ml.service.url=${ML_SERVICE_URL:http://localhost:5001}
ml.service.mock=${ML_SERVICE_MOCK:false}

# ------------------------
# Pose Analysis
# ------------------------
analysis.pose.enabled=${POSE_ANALYSIS_ENABLED:true}
analysis.pose.min-confidence=${POSE_MIN_CONFIDENCE:0.5}

# ------------------------
# OpenAI (legacy, disabled)
# ------------------------
openai.java.enabled=false

# ------------------------
# Anthropic Claude (optional)
# ------------------------
anthropic.enabled=${ANTHROPIC_ENABLED:false}
anthropic.api-key=${ANTHROPIC_API_KEY:}
anthropic.model=${ANTHROPIC_MODEL:claude-sonnet-4-20250514}
anthropic.max-tokens=${ANTHROPIC_MAX_TOKENS:1024}

# ------------------------
# Logging
# ------------------------
logging.level.root=INFO
logging.level.com.discgolfanalyzer=DEBUG
